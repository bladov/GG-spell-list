<script setup lang="ts">
import { useCharacterStore } from '@/store/characterStore/index'
import { sendMsgToChat } from '@/utils/sendMsgToChat'
import { darkSpells } from '@/utils/spellList'

const characterStore = useCharacterStore()

const spells = ref([
  {
    title: '–¢—å–º–∞',
    spellList: darkSpells,
    id: 0
  }
])

function testClick() {
  sendMsgToChat('–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–ø–∏—Å—å3!')
  sendMsgToChat('–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–ø–∏—Å—å! [[1d20+5]]')
  sendMsgToChat('/r 1d10+1d6')
  sendMsgToChat(`
  &{template:DnD35StdRoll} {{spellflag=true}} {{name=–î–∏–º–∞ }}{{**–Ø—Ä–∫–∏–π –°–≤–µ—Ç üí°**}}  {{–ò—Å–ø—ã—Ç–∞–Ω–∏–µ(–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ)  (–°–≤–µ—Ç‚≠ê‚≠ê‚≠ê): [[ ?{–∫—É–±–æ–≤?| 20,1d20cs>[[20]]| 24,1d24cs>[[23]]| 30,1d30cs>[[28]]| 16, 1d16cs>[[17]]| 14, 1d14cs>[[16]]| 12, 1d12cs>[[15]]} + [[3]] + floor([[4]]/2)*ceil([[2]]*0.01) + [[3]]  ]] }}   {{notes=–Ø—Ä–∫–∏–π –°–≤–µ—Ç –ò—Å–ø—ã—Ç–∞–Ω–∏–µ(–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ) –ö—É–±–î –°–æ–∑–¥–∞—ë—Ç –æ–±–ª–∞—Å—Ç—å 6—Ä–∞–¥–∏—É—Å –æ—Å–æ–±–æ —è—Ä–∫–æ–≥–æ —Å–≤–µ—Ç–∞, —Å—É—â–µ—Å—Ç–≤–∞ —Å —Ç–µ–º–Ω–æ–≤–∏–¥–µ–Ω—å–µ–º
  `)
}
</script>

<template>
  <div>
    <Button @click="testClick">
      23
    </Button>

    <Accordion value="0">
      <AccordionPanel v-for="spellInfo in spells" :key="spellInfo.id" :value="spellInfo.id">
        <AccordionHeader>{{ spellInfo.title }}</AccordionHeader>
        <AccordionContent>
          <Card v-for="spell in spellInfo.spellList" :key="spell.name">
            <template #title>{{ spell.name }}</template>
            <template #content>
              <p class="m-0">
                <b>–ö—Ä—É–≥</b>: {{ spell.circle }}
              </p>
              <p class="m-0">
                <b>–¢—Ä–∞–¥–∏—Ü–∏–∏</b>: {{ spell.traditions }}
              </p>
              <p class="m-0">
                <b>–¢–∏–ø</b>: {{ spell.type }}
              </p>
              <p class="m-0">
                <b>–ü—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ</b>: {{ spell.pronunciation }}
              </p>
              <p class="m-0">
                <b>–î–∞–ª—å–Ω–æ—Å—Ç—å</b>: {{ spell.range }}
              </p>
              <p class="m-0">
                <b>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</b>: {{ spell.duration }}
              </p>
              <p class="m-0">
                <b>–ü–ª–æ—â–∞–¥—å</b>: {{ spell.square }}
              </p>

              <p class="m-0">
                <b>–≠—Ñ—Ñ–µ–∫—Ç</b>: {{ spell.effect }}
              </p>
              <p class="m-0">
                <b>–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –≠—Ñ—Ñ–µ–∫—Ç</b>: {{ spell.critical_effect }}
              </p>
            </template>
          </Card>
        </AccordionContent>
      </AccordionPanel>
    </Accordion>
  </div>
</template>

<style lang="">

</style>
