var background=function(){"use strict";var t,l;function u(n){return n==null||typeof n=="function"?{main:n}:n}const a=((l=(t=globalThis.browser)==null?void 0:t.runtime)==null?void 0:l.id)==null?globalThis.chrome:globalThis.browser,d=u(()=>{console.log("Hello background!",{id:a.runtime.id}),chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}).catch(o=>console.error(o));const n="roll20",s="about:blank";chrome.tabs.onUpdated.addListener(async(o,f,c)=>{if(!c.url)return;const i=new URL(c.url);console.log(`url - ${i}`),i.origin.includes(n)||i.origin.includes(s)?await chrome.sidePanel.setOptions({tabId:o,path:"sidepanel.html",enabled:!0}):await chrome.sidePanel.setOptions({tabId:o,enabled:!1})})});function h(){}function e(n,...s){}const g={debug:(...n)=>e(console.debug,...n),log:(...n)=>e(console.log,...n),warn:(...n)=>e(console.warn,...n),error:(...n)=>e(console.error,...n)};let r;try{r=d.main(),r instanceof Promise&&console.warn("The background's main() function return a promise, but it must be synchronous")}catch(n){throw g.error("The background crashed on startup!"),n}return r}();
background;
